# üöÄ Railway Deployment - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- ‚úÖ `Dockerfile.railway.simple` - Docker –æ–±—Ä–∞–∑
- ‚úÖ `.dockerignore.railway` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (45 settings, 11 —Ç–∞–±–ª–∏—Ü)

---

## üìã –®–∞–≥ 1: –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway

1. **–û—Ç–∫—Ä–æ–π** [railway.app](https://railway.app)
2. **–í–æ–π–¥–∏** —á–µ—Ä–µ–∑ GitHub (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–µ–ª)
3. **–ù–∞–∂–º–∏** "New Project"
4. **–í—ã–±–µ—Ä–∏** "Deploy from GitHub repo"
5. **–í—ã–±–µ—Ä–∏** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `gHashTag/Archon`
6. **–ñ–¥–∏** –ø–æ–∫–∞ Railway –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

> Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç `railway.json` –∏ –Ω–∞—á–Ω–µ—Ç build!

---

## üîë –®–∞–≥ 2: –î–æ–±–∞–≤—å Environment Variables

**–í Railway Dashboard ‚Üí Variables, –¥–æ–±–∞–≤—å:**

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# Supabase (–∏—Å–ø–æ–ª—å–∑—É–π –¢–í–û–ò –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Supabase Dashboard)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=—Ç–≤–æ–π-–¥–ª–∏–Ω–Ω—ã–π-service-role-key

# OpenAI (–µ—Å–ª–∏ –µ—Å—Ç—å)
OPENAI_API_KEY=sk-—Ç–≤–æ–π-–∫–ª—é—á
```

### –ì–¥–µ –≤–∑—è—Ç—å Supabase –¥–∞–Ω–Ω—ã–µ:

1. –û—Ç–∫—Ä–æ–π [supabase.com/dashboard](https://supabase.com/dashboard)
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. Settings ‚Üí API
4. –°–∫–æ–ø–∏—Ä—É–π:
   - **Project URL** ‚Üí `SUPABASE_URL`
   - **service_role key** (–î–õ–ò–ù–ù–´–ô –∫–ª—é—á) ‚Üí `SUPABASE_SERVICE_KEY`

> ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π **service_role**, –∞ –ù–ï anon key!

---

## üöÇ –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏ Deployment

1. **–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è variables** Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç deploy
2. **–ò–ª–∏ –Ω–∞–∂–º–∏** "Deploy" –≤—Ä—É—á–Ω—É—é
3. **–ñ–¥–∏** 5-10 –º–∏–Ω—É—Ç (–ø–µ—Ä–≤—ã–π build –¥–æ–ª–≥–∏–π)

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

```
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è      ‚è±Ô∏è 30 —Å–µ–∫
2. Docker build                  ‚è±Ô∏è 5-8 –º–∏–Ω—É—Ç
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.12
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - Build React frontend
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx + Supervisor
3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è             ‚è±Ô∏è 1-2 –º–∏–Ω—É—Ç—ã
4. Health check                  ‚úÖ –ì–æ—Ç–æ–≤–æ!
```

---

## üåê –®–∞–≥ 4: –ü–æ–ª—É—á–∏ Public URL

1. **–í Railway Dashboard** ‚Üí Settings ‚Üí Networking
2. **–ù–∞–∂–º–∏** "Generate Domain"
3. **Railway –≤—ã–¥–∞—Å—Ç** URL —Ç–∏–ø–∞: `archon-production.up.railway.app`
4. **–°–∫–æ–ø–∏—Ä—É–π** —ç—Ç–æ—Ç URL

---

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É

### –¢–µ—Å—Ç 1: Health Check
–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://—Ç–≤–æ–π-railway-url.up.railway.app/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "healthy",
  "service": "archon-backend",
  "ready": true
}
```

### –¢–µ—Å—Ç 2: Frontend
–û—Ç–∫—Ä–æ–π:
```
https://—Ç–≤–æ–π-railway-url.up.railway.app
```

–î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Archon!

### –¢–µ—Å—Ç 3: API Docs
```
https://—Ç–≤–æ–π-railway-url.up.railway.app/api/docs
```

Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API!

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

1. **Railway Dashboard** ‚Üí —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. **–í–∫–ª–∞–¥–∫–∞ "Deployments"**
3. **–ö–ª–∏–∫ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment**
4. **View Logs**

### –ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:

‚úÖ **–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫**:
```
[supervisord] started
[nginx] started
[archon-server] started on port 8181
[archon-mcp] started on port 8051
```

‚ùå **–ü—Ä–æ–±–ª–µ–º—ã**:
```
ERROR: Database connection failed
ERROR: Missing environment variable
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Build fails

**–ü—Ä–æ–≤–µ—Ä—å**:
1. `railway.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ
2. `Dockerfile.railway.simple` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –õ–æ–≥–∏ build –≤ Railway Dashboard

### –ü—Ä–æ–±–ª–µ–º–∞: 500 error –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

**–ü—Ä–æ–≤–µ—Ä—å**:
1. Environment variables –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. `SUPABASE_SERVICE_KEY` - —ç—Ç–æ –î–õ–ò–ù–ù–´–ô –∫–ª—é—á (–Ω–µ anon)
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ (`complete_setup.sql` –≤—ã–ø–æ–ª–Ω–µ–Ω)

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫

**–ù–æ—Ä–º–∞**: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ 5-10 –º–∏–Ω—É—Ç (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ ML –±–∏–±–ª–∏–æ—Ç–µ–∫)
**–ü–æ—Ç–æ–º**: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ –±—ã—Å—Ç—Ä–µ–µ (1-2 –º–∏–Ω—É—Ç—ã)

---

## üí∞ Railway Pricing

**Hobby Plan** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):
- $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü
- 512 MB RAM
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**Developer Plan** ($5/–º–µ—Å):
- $5 + usage based
- –ë–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–∏ push –≤ GitHub!

```bash
# –°–¥–µ–ª–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
git add .
git commit -m "Update feature"
git push origin main

# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# 1. –û–±–Ω–∞—Ä—É–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π build
# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

---

## üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] Railway –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] `SUPABASE_URL` –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] `SUPABASE_SERVICE_KEY` –¥–æ–±–∞–≤–ª–µ–Ω (–î–õ–ò–ù–ù–´–ô –∫–ª—é—á!)
- [ ] Deployment –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] Public URL –ø–æ–ª—É—á–µ–Ω
- [ ] `/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK
- [ ] Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] API docs –¥–æ—Å—Ç—É–ø–Ω—ã

---

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏** –≤ Railway Dashboard
2. **–ü—Ä–æ–≤–µ—Ä—å** —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. **–£–±–µ–¥–∏—Å—å** —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

**–ì–æ—Ç–æ–≤–æ!** –¢–≤–æ–π Archon —Ç–µ–ø–µ—Ä—å –Ω–∞ Railway! üéâ

**Production URL**: `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.up.railway.app`
